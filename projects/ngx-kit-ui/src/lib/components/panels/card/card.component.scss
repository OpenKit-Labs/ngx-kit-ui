// Base card styles using CSS variables for customization
:host {
    display: inline-block;
    /* Allow the card host to shrink inside flex/grid containers (prevents overflow from long unbroken content) */
    min-width: 0;

    &.full-width {
        display: block;
        width: 100%;

        .kit-card {
            width: 100%;
        }
    }

    &.full-height {
        /* Make the host behave like a block so it can stretch to the grid/flex container height
           when the consumer opts into full-height behavior. This is conservative and only
           changes behavior when `fullHeight` (class `full-height`) is set on the host. */
        display: block;
        height: 100%;

        .kit-card {
            height: 100%;

            /* Ensure the inner content can grow/shrink correctly in flex/grid contexts
               so children like a footer using `margin-top: auto` will stick to the bottom. */
            .kit-card__content {
                display: flex;
                flex-direction: column;
                flex: 1 1 auto;
                min-height: 0;
            }
        }
    }

    &.clickable {
        cursor: pointer;
    }
}

.kit-card {
    // Base card styles
    position: relative;
    display: flex;
    flex-direction: column;
    background-color: var(--kit-card-background-color, #ffffff);
    border-radius: var(--kit-card-border-radius, 16px);
    transition: box-shadow 0.2s ease, transform 0.1s ease;
    overflow: hidden;
    box-sizing: border-box;
    border: var(--kit-card-border-width, 1px) solid var(--kit-card-border-color, transparent);

    // Content container
    .kit-card__content {
        display: flex;
        flex-direction: column;
        width: 100%;
        /* Ensure inner content can shrink and wrap correctly when inside grid/flex layouts */
        min-width: 0;
        padding: var(--kit-card-padding, 16px);
        box-sizing: border-box;
    }

    // Elevation levels
    &.kit-card--none {
        box-shadow: none;
    }

    &.kit-card--low {
        box-shadow: var(--kit-card-shadow-low, 0 1px 3px rgba(0, 0, 0, 0.12), 0 1px 2px rgba(0, 0, 0, 0.24));
    }

    &.kit-card--medium {
        box-shadow: var(--kit-card-shadow-medium, 0 3px 6px rgba(0, 0, 0, 0.16), 0 3px 6px rgba(0, 0, 0, 0.23));
    }

    &.kit-card--high {
        box-shadow: var(--kit-card-shadow-high, 0 10px 20px rgba(0, 0, 0, 0.19), 0 6px 6px rgba(0, 0, 0, 0.23));
    }

    // Clickable card styles
    &.kit-card--clickable {
        cursor: pointer;
        user-select: none;

        &:hover:not(.kit-card--disabled) {
            transform: var(--kit-card-hover-transform, translateY(-2px));
            box-shadow: var(--kit-card-hover-shadow, 0 4px 8px rgba(0, 0, 0, 0.16), 0 4px 8px rgba(0, 0, 0, 0.23));
        }

        &:active:not(.kit-card--disabled) {
            transform: var(--kit-card-active-transform, translateY(0));
            box-shadow: var(--kit-card-active-shadow, 0 2px 4px rgba(0, 0, 0, 0.12), 0 2px 4px rgba(0, 0, 0, 0.24));
        }

        &:focus:not(.kit-card--disabled) {
            outline: none;
            box-shadow: var(--kit-card-focus-shadow, 0 0 0 3px rgba(var(--kit-color-primary-rgb, 0, 102, 204), 0.2));
        }
    }

    // Disabled state styling
    &.kit-card--disabled {
        cursor: not-allowed;
        opacity: var(--kit-card-disabled-opacity, 0.6);
        pointer-events: none;
    }
}