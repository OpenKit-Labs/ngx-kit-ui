<div class="kit-image-container"
     [style.object-fit]="objectFit()"
     [style.width]="width() ? width() : (imageWidth() ? imageWidth() + 'px' : '200px')"
     [style.height]="height() ? height() : (imageHeight() ? imageHeight() + 'px' : '200px')"
     [style.aspectRatio]="aspectRatio() ?? null"
     [style.borderRadius]="borderRadius() ?? null">

    <!-- Image -->
    @if(showImage())
    {
    <ng-container>
        <img [src]="src()"
             [style.object-fit]="objectFit()"
             [style.borderRadius]="borderRadius() ?? null"
             class="kit-image">
    </ng-container>
    }

    <!-- Skeleton shimmer while loading -->

    @if(isLoading())
    {
    <ng-container>
        <div class="kit-image-skeleton"></div>
    </ng-container>
    }

    @if(errored() && errorSrc())
    {
    <ng-container>
        <img [src]="errorSrc()"
             [style.object-fit]="objectFit()"
             [style.borderRadius]="borderRadius() ?? null"
             class="kit-image">
    </ng-container>
    }

    @if(errored() && !errorSrc())
    {
    <ng-container>
        <div class="kit-image-error"></div>
    </ng-container>
    }
</div>